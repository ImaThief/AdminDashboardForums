{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nexport function usePaginatedActivity(page = 1, limit = 5) {\n  _s();\n  const [data, setData] = useState({\n    logs: [],\n    total: 0\n  });\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    let isActive = true;\n    const fetchPage = async () => {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      try {\n        const res = await fetch(`https://forum-gen-backend-production.up.railway.app/api/activity?page=${page}&limit=${limit}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (!res.ok) throw new Error(`Fetch failed (${res.status})`);\n        const {\n          logs,\n          total\n        } = await res.json();\n        if (isActive) setData({\n          logs,\n          total\n        });\n      } catch (err) {\n        console.error(err);\n        if (isActive) setData({\n          logs: [],\n          total: 0\n        });\n      } finally {\n        if (isActive) setLoading(false);\n      }\n    };\n    fetchPage();\n    return () => {\n      isActive = false;\n    };\n  }, [page, limit]);\n  return {\n    ...data,\n    loading\n  };\n}\n_s(usePaginatedActivity, \"oG1gGPFyUf1W77gnAk9lDqVNyvM=\");","map":{"version":3,"names":["useEffect","useState","usePaginatedActivity","page","limit","_s","data","setData","logs","total","loading","setLoading","isActive","fetchPage","token","localStorage","getItem","res","fetch","headers","Authorization","ok","Error","status","json","err","console","error"],"sources":["/Users/matthewconrad/Desktop/forumgen-admin-ui/src/hooks/usePaginatedActivity.js"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nexport function usePaginatedActivity(page = 1, limit = 5) {\n  const [data, setData] = useState({ logs: [], total: 0 });\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    let isActive = true;\n    const fetchPage = async () => {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      try {\n        const res = await fetch(\n          `https://forum-gen-backend-production.up.railway.app/api/activity?page=${page}&limit=${limit}`,\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n        if (!res.ok) throw new Error(`Fetch failed (${res.status})`);\n        const { logs, total } = await res.json();\n        if (isActive) setData({ logs, total });\n      } catch (err) {\n        console.error(err);\n        if (isActive) setData({ logs: [], total: 0 });\n      } finally {\n        if (isActive) setLoading(false);\n      }\n    };\n    fetchPage();\n    return () => { isActive = false; };\n  }, [page, limit]);\n\n  return { ...data, loading };\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,OAAO,SAASC,oBAAoBA,CAACC,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAE;EAAAC,EAAA;EACxD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC;IAAEO,IAAI,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAE,CAAC,CAAC;EACxD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAE7CD,SAAS,CAAC,MAAM;IACd,IAAIY,QAAQ,GAAG,IAAI;IACnB,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5BF,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMG,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CACrB,yEAAyEf,IAAI,UAAUC,KAAK,EAAE,EAC9F;UAAEe,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUN,KAAK;UAAG;QAAE,CAClD,CAAC;QACD,IAAI,CAACG,GAAG,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,iBAAiBL,GAAG,CAACM,MAAM,GAAG,CAAC;QAC5D,MAAM;UAAEf,IAAI;UAAEC;QAAM,CAAC,GAAG,MAAMQ,GAAG,CAACO,IAAI,CAAC,CAAC;QACxC,IAAIZ,QAAQ,EAAEL,OAAO,CAAC;UAAEC,IAAI;UAAEC;QAAM,CAAC,CAAC;MACxC,CAAC,CAAC,OAAOgB,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;QAClB,IAAIb,QAAQ,EAAEL,OAAO,CAAC;UAAEC,IAAI,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAE,CAAC,CAAC;MAC/C,CAAC,SAAS;QACR,IAAIG,QAAQ,EAAED,UAAU,CAAC,KAAK,CAAC;MACjC;IACF,CAAC;IACDE,SAAS,CAAC,CAAC;IACX,OAAO,MAAM;MAAED,QAAQ,GAAG,KAAK;IAAE,CAAC;EACpC,CAAC,EAAE,CAACT,IAAI,EAAEC,KAAK,CAAC,CAAC;EAEjB,OAAO;IAAE,GAAGE,IAAI;IAAEI;EAAQ,CAAC;AAC7B;AAACL,EAAA,CA7BeH,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}