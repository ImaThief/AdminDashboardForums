{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState, useCallback } from 'react';\nexport function usePaginatedActivity(page = 1, limit = 5) {\n  _s();\n  const [logs, setLogs] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const fetchPage = useCallback(async () => {\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch(`https://forum-gen-backend-production.up.railway.app/api/activity?page=${page}&limit=${limit}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!res.ok) throw new Error(`Fetch failed (${res.status})`);\n      const {\n        logs: fetchedLogs,\n        total: fetchedTotal\n      } = await res.json();\n      setLogs(fetchedLogs);\n      setTotal(fetchedTotal);\n    } catch (err) {\n      console.error('Failed to fetch activity logs:', err);\n      setLogs([]);\n      setTotal(0);\n    } finally {\n      setLoading(false);\n    }\n  }, [page, limit]);\n  useEffect(() => {\n    fetchPage();\n  }, [fetchPage]);\n  return {\n    logs,\n    total,\n    loading,\n    refresh: fetchPage\n  };\n}\n_s(usePaginatedActivity, \"32XmMyeAu8kcX8ZM9T+MfhYcyvU=\");","map":{"version":3,"names":["useEffect","useState","useCallback","usePaginatedActivity","page","limit","_s","logs","setLogs","total","setTotal","loading","setLoading","fetchPage","token","localStorage","getItem","res","fetch","headers","Authorization","ok","Error","status","fetchedLogs","fetchedTotal","json","err","console","error","refresh"],"sources":["/Users/matthewconrad/Desktop/forumgen-admin-ui/src/hooks/usePaginatedActivity.js"],"sourcesContent":["import { useEffect, useState, useCallback } from 'react';\n\nexport function usePaginatedActivity(page = 1, limit = 5) {\n  const [logs, setLogs] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  const fetchPage = useCallback(async () => {\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch(\n        `https://forum-gen-backend-production.up.railway.app/api/activity?page=${page}&limit=${limit}`,\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      if (!res.ok) throw new Error(`Fetch failed (${res.status})`);\n      const { logs: fetchedLogs, total: fetchedTotal } = await res.json();\n      setLogs(fetchedLogs);\n      setTotal(fetchedTotal);\n    } catch (err) {\n      console.error('Failed to fetch activity logs:', err);\n      setLogs([]);\n      setTotal(0);\n    } finally {\n      setLoading(false);\n    }\n  }, [page, limit]);\n\n  useEffect(() => { fetchPage(); }, [fetchPage]);\n\n  return { logs, total, loading, refresh: fetchPage };\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAExD,OAAO,SAASC,oBAAoBA,CAACC,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAE;EAAAC,EAAA;EACxD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMY,SAAS,GAAGX,WAAW,CAAC,YAAY;IACxCU,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAME,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAMC,GAAG,GAAG,MAAMC,KAAK,CACrB,yEAAyEd,IAAI,UAAUC,KAAK,EAAE,EAC9F;QAAEc,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUN,KAAK;QAAG;MAAE,CAClD,CAAC;MACD,IAAI,CAACG,GAAG,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,iBAAiBL,GAAG,CAACM,MAAM,GAAG,CAAC;MAC5D,MAAM;QAAEhB,IAAI,EAAEiB,WAAW;QAAEf,KAAK,EAAEgB;MAAa,CAAC,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,CAAC;MACnElB,OAAO,CAACgB,WAAW,CAAC;MACpBd,QAAQ,CAACe,YAAY,CAAC;IACxB,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,gCAAgC,EAAEF,GAAG,CAAC;MACpDnB,OAAO,CAAC,EAAE,CAAC;MACXE,QAAQ,CAAC,CAAC,CAAC;IACb,CAAC,SAAS;MACRE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACR,IAAI,EAAEC,KAAK,CAAC,CAAC;EAEjBL,SAAS,CAAC,MAAM;IAAEa,SAAS,CAAC,CAAC;EAAE,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAE9C,OAAO;IAAEN,IAAI;IAAEE,KAAK;IAAEE,OAAO;IAAEmB,OAAO,EAAEjB;EAAU,CAAC;AACrD;AAACP,EAAA,CA7BeH,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}